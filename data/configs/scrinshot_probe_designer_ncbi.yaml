### General parameters
n_jobs: 1 # number of cores used to run the pipeline
dir_output: output # name of the directory where the output files will be written
min_probes_per_gene: 0 # minimum number of probes that a gene must have before it gets deleted
write_removed_genes: True # write in a file the removed genes
write_intermediate_steps: True # writes the probe sequences after each step of the pipeline


### Parameters for genomic region generator that creates fasta file
source: ncbi # required: indicate that NCBI annotation should be used
source_params:
    taxon: vertebrate_mammalian # required: taxon of the species, valid taxa are: archaea, bacteria, fungi, invertebrate, mitochondrion, plant, plasmid, plastid, protozoa, vertebrate_mammalian, vertebrate_other, viral
    species: Homo_sapiens # required: species name in NCBI download format, e.g. 'Homo_sapiens' for human; see https://ftp.ncbi.nlm.nih.gov/genomes/refseq/ for available species name
    annotation_release: 110 # required: release number of annotation e.g. '109' or '109.20211119'  or 'current' to use most recent annotation release. Check out release numbers for NCBI at ftp.ncbi.nlm.nih.gov/refseq/H_sapiens/annotation/annotation_releases/
region: transcript

### Parameters for oligo sequences generation
file_genes: ./data/genes/ncbi_10.txt # file with a list the genes used to generate the oligos sequences, leave empty if all the genes are used
probe_length_min: 38 # minimum length of probes
probe_length_max: 45 # maximum length of probes

### Parameters for the property filters
# probe sequence
target_GC_content_min: 40 # minimum GC content of probes
target_GC_content_max: 60 # maximum GC content of probes
target_Tm_min: 52 # minimum melting temperature of probes
target_Tm_max: 67 # maximum melting temperature of probes
# padlock arms
min_arm_length: 10 # minimum length of each arm
max_arm_Tm_dif: 2 # maximum melting temperature difference of both arms
arm_Tm_min: 38 # minimum melting temperature of each arm (difference shouldn't be higher than 5! But range is not super important, the lower the better)
arm_Tm_max: 49 # maximum melting temperature of each arm


### Parameters for the specificity filters
# Blastn Similarity Filter
blast_word_size: 10 # word size for the blastn seed (exact match to target)
blast_coverage: 50 # minimum coverage between probes and target sequence, ranging from 0 to 100% (full coverage)
blast_percent_identity: 80 # maximum similarity between probes and target sequences, ranging from 0 to 100% (no missmatch)
# Bowtie Ligation Region filter
ligation_region_size: 5 # size of the seed region around the ligation site for bowtie seed region filter


### Parameters for the probe efficiency
# Here also Tm_min, Tm_max, GC_content_min, GC_content_max are used, but have been defined before
Tm_opt: 60 # optimal melting temperature of probes
GC_content_opt: 50 # optimal GC content of probes
Tm_weight: 1 # weight of the Tm of the probe in the efficiency score
GC_weight: 1 # weight of the GC content of the probe in the efficiency score


### Parameters for the probesets generation
probeset_size_opt: 5 # ideal number of probes per probeset
probeset_size_min: 2 # minimum number of probes per probeset
n_sets: 100 # maximum number of sets per gene


### Parameters for the padlock detection probe design
detect_oligo_length_min: 18 # minimum length of detection probe
detect_oligo_length_max: 25 # maximum length of detection probe
detect_oligo_Tm_opt: 32 # optimal melting temperature of detection probe


### Parameters for Melting Temperature
# The melting temperature is used in 2 different stages (property filters and padlock detection probe design), where a few parameters are shared and the others differ.
# parameters for melting temperature -> for more information on parameters, see: https://biopython.org/docs/1.75/api/Bio.SeqUtils.MeltingTemp.html#Bio.SeqUtils.MeltingTemp.Tm_NN
Tm_parameters_probe:
    check: True
    strict: True
    c_seq: null
    shift: 0
    nn_table: DNA_NN3
    tmm_table: DNA_TMM1
    imm_table: DNA_IMM1
    de_table: DNA_DE1
    dnac1: 50 #[nM]
    dnac2: 0
    selfcomp: False
    dNTPs: 0
    saltcorr: 7
    Na: 1.25 #[mM]
    K: 75 #[mM]
    Tris: 20 #[mM]
    Mg: 10 #[mM]

Tm_chem_correction_param_probe:
    DMSO: 0
    DMSOfactor: 0.75
    fmdfactor: 0.65
    fmdmethod: 1
    GC: null
    fmd: 20

Tm_parameters_detection_oligo:
    check: True
    strict: True
    c_seq: null
    shift: 0
    nn_table: DNA_NN3
    tmm_table: DNA_TMM1
    imm_table: DNA_IMM1
    de_table: DNA_DE1
    dnac1: 50 #[nM]
    dnac2: 0
    selfcomp: False
    dNTPs: 0
    saltcorr: 7
    Na: 39 #[mM]
    K: 0 #[mM]
    Tris: 0 #[mM]
    Mg: 0 #[mM]

Tm_chem_correction_param_detection_oligo:
    DMSO: 0
    DMSOfactor: 0.75
    fmdfactor: 0.65
    fmdmethod: 1
    GC: null
    fmd: 30
