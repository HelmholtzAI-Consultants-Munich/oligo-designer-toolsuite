#######################
### BASIC PARAMETERS ###
#######################

### General parameters
n_jobs: 4 # number of cores used to run the pipeline
dir_output: output_readout_probe_designer # name of the directory where the output files will be written
write_intermediate_steps: true # if true, writes the oligo sequences after each step of the pipeline into a csv file

### Parameters for sequences generation
readout_sequence_probs:
  A: 25
  G: 50
  T: 25
readout_length: 20
initial_num_sequences: 100000 # number of random sequences generated in the first step

### Parameters for the property filers, i.e. properties that the sequences should fulfill
GC_content_min: 40 # minimum GC content of readout probes
GC_content_max: 50 # maximum GC content of readout probes
homopolymeric_base_n: # minimum number of nucleotides to consider it a homopolymeric run per base
  G: 3

### Parameters for the specificity filters
files_fasta_reference_database: # fasta file with sequences used as reference for the specificity filters. Hint: use the genomic_region_generator pipeline to create fasta files of genomic regions of interest
  - data/genomic_regions/exon_annotation_source-NCBI_species-Homo_sapiens_annotation_release-110_genome_assemly-GRCh38.fna
  - data/genomic_regions/exon_exon_junction_annotation_source-NCBI_species-Homo_sapiens_annotation_release-110_genome_assemly-GRCh38.fna


probeset_size: 16 # size of probe sets

############################
### ADVANCED PARAMETERS ###
############################



### Parameters for the specificity filters
# Specificity filter with BlastN
blastn_search_parameters:
  perc_identity: 80
  strand: "minus" # this parameter is fixed, if reference is whole genome, consider using "both"
  word_size: 7
  dust: "no"
  soft_masking: "false"
  max_target_seqs: 10
  max_hsps: 13
blastn_hit_parameters:
  coverage: 55 # can be turned into min_alignment_length
  # min_alignment_length: 11

# Crosshybridization filter with BlastN
cross_hybridization_blastn_search_parameters:
  perc_identity: 80
  strand: "minus" # this parameter is fixed
  word_size: 7
  dust: "no"
  soft_masking: "false"
  max_target_seqs: 10
cross_hybridization_blastn_hit_parameters:
  coverage: 55 # can be turned into min_alignment_length
  # min_alignment_length: 11


### Parameters for the Oligo set selection
n_sets: 1 # number of oligo sets to create
set_size: 16 # size of the oligo set, theÂ total number of readout probes
homogeneous_properties_weights: # oligo sets should have similar properties, the weighted sum of variance of the properties is minimized
  TmNN: 1 # melting temperature
  GC_content: 1 # GC content
n_combinations: 100000 # number of random combinations of size set_size to try

### Parameter for the codebook generation
# defaults to the MDH4 standard
min_hamming_distance: 4 # minimum hamming distance between barcodes
hamming_weight: 4 # number of bits set to 1 in the barcode
channels_ids:
  - Alexa488
  - Cy3b
  - Alexa647
